<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="theme-color" content="">
<title>Aga Khan Meseum | Gilgamel&#39;s Notepad</title>
<link rel="shortcut icon" href="/favicon.ico?v=1633497377642">
<link rel="stylesheet" href="/media/css/pisces.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/github.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/media/js/jquery.js"></script>
<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>






  <meta name="description" content="Aga Khan Meseum" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Gilgamel&#39;s Notepad</span>
            </a>  
          
        </div>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout pisces ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    jQuery.Velocity(hideElement, 'stop');
    jQuery.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        jQuery.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://gilgamel.github.io/post/aga-khan-meseum/">
      Aga Khan Meseum
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2019-04-11 22:38:36">2019-04-11</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>10<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2549<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
            <div class="post-body next-md-body" id="post_body">
              <p>最近经常在INS看到 Aga Khan Meseum （AKM）关于人类登月50周年纪念而设的特展推广，于是就趁着周末跑去刷了一次馆。学生票 $12刀，外加导游讲解 $5，一共 $17。买完票的一瞬间觉得作为一个学生真的是太幸福了。</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2019/04/15/5cb3c9be67c57.jpg" alt="" loading="lazy"></figure>
<p>去到的时候大概1点，特展导游讲解在1点45开始。所以就趁这段时间在CAFE买了点喝的顺手再翻了一下博物馆的相关情况。</p>
<blockquote>
<p><strong>Aga Khan Meseum</strong></p>
<p>阿迦汗博物馆成立于2014年，，属于伊斯兰教什叶派伊斯玛仪派领袖阿迦汗四世（Prince Shah Karim Al Husseini）的私人财产。馆内藏品涵盖伊斯兰艺术、伊朗艺术和穆斯林文化等，重要展品包括伊本·西那（Ibn Sina）的《医典》副本、一张「蓝色古兰经」的书页、14世纪西班牙星盘等。</p>
</blockquote>
<p>阿迦汗博物馆的主体建筑于1996年由阿迦汗四世购得。2002年阿迦汗四世买下相邻建筑，并宣布建造阿迦汗博物馆、伊斯兰中心和阿迦汗公园。</p>
<p>2014年9月，阿迦汗博物馆正式开馆，这座博物馆由普利兹克建筑奖获得者、日本建筑师槙文彦（Fumihiko Maki）设计，占地面积约1万平方米。</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2019/04/15/5cb40b5d39958.jpg" alt="" loading="lazy"></figure>
<p>照例先给好久没出现的皮皮瘦来一张照片，右上角的一张 moon lady 很重要，导游还特意带我们到 moon lady 的展品上好好讲解了一番。</p>
<p>博物馆分为两层，楼上二楼为特展 The Moon，一楼为永久展区。</p>
<h3 id="the-moon-a-voyage-through-time">The Moon: A Voyage Through Time</h3>
<p>The Moon 这个展览利用了灯效，在地面上映射出上弦月、半月、满月的灯光效果，在一开始的时候用巨幅照片给游客展览了月亮的各个形态；并且将从月球上掉落的一小片陨石放在地面，放上透明玻璃罩，利用“站在过月球上”作为噱头，作为一个开头特色亮点。</p>
<p>随后真真正正进入展区后则通过艺术、文化等方面讲述伊斯兰文明与月亮的关联。</p>
<p>例如：在一副画上描画着蔬果、以及阁楼，在阁楼的顶部有一名占星师对月观察，看是否已经到了蔬果丰收、可以进食的日子。</p>
<p>又例如在伊斯兰文字里一个像月亮的图案则代表眼睛，而两两结合则代表不知道什么（。 而后两两结合成一个疑似满月的图案，上面除了文字以外，还有着经纬度。从这里可以看出，在当时的伊斯兰文明来说并没有宗教、科学之分。</p>
<p>除此以外让人印象深刻的是一个叫Astrolabe 的东西。</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2019/04/15/5cb4119dda2eb.jpg" alt="" loading="lazy"></figure>
<p>Astrolabe，又称为星盘，最早来源自希腊，是平面球与窥管的结合。窥管，（希腊语：διόπτρα）是可以追溯到公元前三世纪的传统]天文和测量工具。窥管是一根两端都可以看或是固定的观测管，如果装有量角器，就可以用来测量角度。</p>
<p>星盘在中世纪伊斯兰世界进一步发展，穆斯林天文学家在设计中引入了角度尺，在地平线上添加了指示方位角的圆圈。它在整个穆斯林世界被广泛使用，主要是作为航行的辅助手段，以及寻找麦加方向的朝拜方式。八世纪的数学家Muhammad al-Fazari是第一个在伊斯兰世界建造星盘的人。</p>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2019/04/21/5cbbc7db37777.jpg" alt="" loading="lazy"></figure>
<p>星盘正反面均可使用，不仅能用来观星，还能用来看时间（真的感觉很牛逼了），在看到星盘的第一眼不知道为什么首先想到了中国的日晷；大概是因为两个物品有着一些些相同之处吧。除此以外星盘让人感觉到印象深刻的原因大概是源于现代人对于伊斯兰文明、穆斯林的stereotype。当我们想到中东、伊斯兰、穆斯林的时候第一反应想到的是绿绿，却忘了其实在很多年前伊斯兰文明有多棒。</p>
<h3 id="the-permanent-exhibition">The  Permanent Exhibition</h3>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2019/04/19/5cb95907c36e2.jpg" alt="" loading="lazy"></figure>
<blockquote>
<p>This selection of jewelery has been lavishly ornamented using filigree and granulation, displaying the intricate and demanding goldsmithing techniques that showcase the skill and sophistication of craftsmanship during the Fatimid dynasty (973 - 1171).</p>
<p>The gold jewellery of the Fatmids was well-known in its time, and was linked to the luxurious objects of the Byzantine Empire (ca. 330 - 1453), reflecting the importance of the relationship between the two cultures.</p>
<p>From Cairo, the cosmopolitan capital they founded, the Fatimids traded commodities, skills, and ideas across and extensive commercial network that reached from the Mediterranean into Africa and across the Read Sea and the Indian Ocean to China.</p>
</blockquote>
<p>在伊斯兰文明中的首饰多数与月亮相关，且非常精致。即使中国古代的首饰里不乏制作异常精致的首饰，但是两者给人的感觉完全不同。如果需要用很粗暴的语言去描述两者的区别，那大概是中国古代的首饰精致中带着大气与写意，而伊斯兰文明的首饰则是精致中带着刻进骨子里的严谨（强迫）。事实上在博物馆看到的不管首饰、书籍、又抑或是瓷器，都带着让强迫症极度舒适的对称形状。</p>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2019/04/21/5cbb97641ccf3.jpg" alt="" loading="lazy"></figure>
<blockquote>
<p><strong>Tiraz Textile</strong></p>
<p>Damietta, Egypt, 411 AH/ 1021</p>
<p>Linen, with silk tapestry-woven inscription</p>
<p>This tiraz fragment was made during the reign of Caliph al-Hakim (r. 996 - 1021), the sixth ruler of the Fatimid Dynasty. The fine quality of the weave is an indication that this is a luxury fabric. The bold kufic inscription is tapestry-woven in undyed linen against a blue ground with yellow tendrils floating above the letters.</p>
<p>The fragment is an excellent example that illustrates the historical importance of tiraz textiles. It contains the name of the Caliph, the last year of his reign, as well as the name of the factory, the city, and the date that it was made.</p>
</blockquote>
<p>伊斯兰文明时代的人似乎认为文字是非常神圣的东西，所以他们会在所有绣品、瓷砖等等都绣上、印上文字，就像中国古代人民会在瓷器、墙砖上放各种祥云纹又或许一些其他的图案。</p>
<p>而上面这张图是一块 <strong>Tiraz</strong>，直接英译中大概叫提拉兹；是中世纪的伊斯兰刺绣，通常会以臂章的形式封在荣誉长袍上（khilat）。就像博物馆的展品描述所说的一样： tiraz 会被用于授予表现出对哈里发（Caliph）忠诚的高级官员，以及会被作为礼物送给某些身份极其尊贵的人。 Tiraz 上通常会绣有统治者的名字，有贵重的金属线，有复杂的图案；它是一种权力的象征，生产和出口都会受到严格监管，并由政府任命的官员进行监督。</p>
<figure data-type="image" tabindex="7"><img src="https://i.loli.net/2019/04/21/5cbbc158e3089.jpg" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="8"><img src="https://i.loli.net/2019/04/21/5cbbc24871152.jpg" alt="" loading="lazy"></figure>
<p>相传颈长而细的瓶子都是用来存放比较重要的液体，同时也方便倒出。两张图片中的右侧瓶子都同属一个类型。特别是跟青色琉璃瓶的制式有8成相似，可惜这个瓶子的瓶颈处细节看得不大清楚</p>
<figure data-type="image" tabindex="9"><img src="https://i.loli.net/2019/04/21/5cbbc2490a3a6.jpg" alt="" loading="lazy"></figure>
<p>而这个钟同样印证了伊斯兰文明时代的人对文字十分看中，所以会喜欢将文字放在不同的器具上这么一个说法。与此同时，他们非常喜欢在器具上作花以及鸟的图案。如果将这个钟的图片放大则可以看到字体之间的图案便是花。</p>
<figure data-type="image" tabindex="10"><img src="https://i.loli.net/2019/04/21/5cbbc3a584fbe.jpg" alt="" loading="lazy"></figure>
<p>不知道是什么年代的花瓶（热水瓶？？？），花纹上是典型的伊斯兰文明风格，但是从颜色上却让人想到了中国的青花瓷</p>
<figure data-type="image" tabindex="11"><img src="https://i.loli.net/2019/04/21/5cbbc249367a5.jpg" alt="" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://i.loli.net/2019/04/21/5cbbc7db221e3.jpg" alt="" loading="lazy"></figure>
<blockquote>
<p><strong>Oliphant</strong></p>
<p>Oliphant: Sicily, Italy, 12th century. Ivory, carved</p>
<p>Mount: England, 17th century. Silver, moulded and engraved</p>
<p>Ivory hunting horns, or oliphants, were made between the mid-eleventh to the thirteenth centuries and are exquisite examples of cultural exchange between Muslim and Christian societies in the Mediterranean world.</p>
<p>The size of this oliphant, its richly carved figurative decoration, and its excellent condition are suggestive of a ceremonial function in courtly societies, associated with the hunt, combat, and banquets.</p>
</blockquote>
<p>这个象牙雕保存情况十分好，被推断为是用作庆典用途的物品。大概人们在出去打猎、战斗、大型宴会前都会用到它。从装饰上看，银制的鹰爪从某些程度上代表了图腾文化。而雕刻的形状也十分写实而有规律感。</p>
<figure data-type="image" tabindex="13"><img src="https://i.loli.net/2019/04/21/5cbbca6768a71.jpg" alt="" loading="lazy"></figure>
<blockquote>
<p><strong>Iran</strong></p>
<p>circa 1150 - 1500</p>
<p>A distinctive feature of Iranian art in this period is the use of ever more complex patterns, whether in the art of the book or on bronzes. A parallel evolution takes place in Persian literature, which saw the images and metaphors of poetry become richer, even arcane, and the development of &quot;ornate prose&quot; (nasr-e mozayyan).</p>
<p>Painting undergoes a metamorphosis between the 1250s and the 1350s. Archetypal figures, such as those painted in polychromy or in golden (&quot;lustre&quot;) colors on thirteenth-century pottery, give way to narrative scenes.</p>
<p>Persian poetry, common on certain categories of thirteenth-century pottery, is systematically used on metal vessels from the mid-fifteenth century on. By contrast, Arabic almost entirely disappeared from objects not destined for shrines or warfare.</p>
</blockquote>
<p>在这一时期，伊朗艺术的一个显着特征是使用更复杂的图案，无论是在书籍的艺术中还是在青铜器上。 在波斯文学中发生了一种平行的演变，其中诗歌的图像和隐喻变得更加丰富，甚至是神秘的，并且发展了“华丽的散文”（nasr-e mozayyan）。</p>
<p>绘画经历了1250年代和1350年代之间的变态。 原型人物，例如十三世纪陶器中的多色或金色（“光泽”）色彩，让位于叙事场景。</p>
<p>波斯诗歌，在十三世纪陶器的某些类别中很常见，系统地用于十五世纪中期的金属器皿上。 相比之下，阿拉伯语几乎完全从没有用于神社或战争的物体中消失。</p>
<hr>
<p>关于展品的相关内容就告一段落了。在补这篇游记的时候其实都处于一种一边Google，一边继续写的状态，却感觉学到了很多有意思的东西。</p>
<p>博物馆真的是一个十分美好的地方，大概也是现代人能够从中学习到历史文化最便捷的地方了。看再多的书，也必须看一眼实物去加以验证。</p>
<p>读万卷书不如行万里路。</p>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">本文作者：</strong>
      
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">本文链接：</strong>
      <a href="https://gilgamel.github.io/post/aga-khan-meseum/" title="Aga Khan Meseum">https://gilgamel.github.io/post/aga-khan-meseum/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">版权声明： </strong>
      本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="崇善寺：佛香青烟袅袅" href="https://gilgamel.github.io/post/Shanxi-day1/">崇善寺：佛香青烟袅袅</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="崇善寺：佛香青烟袅袅" href="https://gilgamel.github.io/post/Shanxi-day1/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="Hello Gridea" href="https://gilgamel.github.io/post/hello-gridea/">Hello Gridea</a>
        <a class="nav-mobile-next" title="Hello Gridea" href="https://gilgamel.github.io/post/hello-gridea/">下一篇</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
            
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <span id="busuanzi_container_site_pv">浏览数 <span id="busuanzi_value_site_pv"></span> 次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">访客数 <span id="busuanzi_value_site_uv"></span> 人</span>
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
  
  
  
  

  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.addEventListener('resize', function (e) {
    calcuHeight();
  });

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      jQuery.Velocity(rightSideBar, 'stop');
      jQuery.Velocity(viewport, 'stop');
      jQuery.Velocity(rightMotions, 'stop');
      if (open) {
        jQuery.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, transitionDir, {});
          }
        })
        jQuery.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        jQuery.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        jQuery.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = ''
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch && faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  var normal_title = document.title;
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>

<link rel="stylesheet" href="/media/css/jquery.fancybox.css" />
<script src="/media/js/jquery.fancybox.js"></script>

<script>
  let images = document.querySelectorAll('.section img');
  images.forEach(image => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement('a');
    aelem.href = image.src;
    aelem.dataset['fancybox'] = 'images';
    aelem.dataset['rel'] = 'fancybox-button';
    aelem.classList.add('fancybox');
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  })
</script>

    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>感谢您的支持，我会继续努力的!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word"></p>
      <p class="reward-tip"></p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        jQuery.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        jQuery.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        jQuery.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        jQuery.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      jQuery.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      jQuery.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>


<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>





</html>